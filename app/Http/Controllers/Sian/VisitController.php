<?php

namespace App\Http\Controllers\Sian;

ini_set('max_execution_time', 30000);

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use App\Sian;
use Illuminate\Support\Facades\Auth;
use App\UserPassword;

class VisitController extends Controller
{
	protected $request;

	private $clientes = [
		/*
		'6135'	=>	'21/09/2018',
		'3129'	=>	'06/09/2018',
		'691'	=>	'28/09/2018',
		'73'	=>	'05/09/2018',
		'812'	=>	'18/09/2018',
		'521'	=>	'17/09/2018',
		'8537'	=>	'19/09/2018',
		'1048'	=>	'06/09/2018',
		'4614'	=>	'27/09/2018',
		'7209'	=>	'25/09/2018',
		'670'	=>	'29/09/2018',
		'8881'	=>	'12/09/2018',
		'291'	=>	'13/09/2018',
		'2432'	=>	'05/09/2018',
		'62'	=>	'26/09/2018',
		'4423'	=>	'04/09/2018',
		'6371'	=>	'18/09/2018',
		'525'	=>	'13/09/2018',
		'1026'	=>	'12/09/2018',
		'8648'	=>	'27/09/2018',
		'3634'	=>	'04/09/2018',
		'3179'	=>	'25/09/2018',
		'3682'	=>	'20/09/2018',
		'6440'	=>	'27/09/2018',
		'4333'	=>	'06/09/2018',
		'204'	=>	'13/09/2018',
		'1746'	=>	'28/09/2018',
		'3923'	=>	'27/09/2018',
		'1046'	=>	'26/09/2018',
		'3807'	=>	'15/09/2018',
		'7845'	=>	'28/09/2018',
		'3286'	=>	'04/09/2018',
		'8457'	=>	'05/09/2018',
		'5910'	=>	'14/09/2018',
		'4747'	=>	'28/09/2018',
		'241'	=>	'11/09/2018',
		'1051'	=>	'06/09/2018',
		'3640'	=>	'15/09/2018',
		'7483'	=>	'26/09/2018',
		'5636'	=>	'26/09/2018',
		'7977'	=>	'15/09/2018',
		'127'	=>	'18/09/2018',
		'3717'	=>	'20/09/2018',
		'1099'	=>	'11/09/2018',
		'8132'	=>	'05/09/2018',
		'4360'	=>	'04/09/2018',
		'1053'	=>	'04/09/2018',
		'3842'	=>	'18/09/2018',
		'1773'	=>	'25/09/2018',
		'1566'	=>	'19/09/2018',
		'3661'	=>	'15/09/2018',
		'7990'	=>	'29/09/2018',
		'2609'	=>	'25/09/2018',
		'3657'	=>	'06/09/2018',
		'1059'	=>	'28/09/2018',
		'8849'	=>	'12/09/2018',
		'7907'	=>	'17/09/2018',
		'1062'	=>	'05/09/2018',
		'2582'	=>	'28/09/2018',
		'8824'	=>	'21/09/2018',
		'4099'	=>	'29/09/2018',
		'5207'	=>	'14/09/2018',
		'4025'	=>	'05/09/2018',
		'8863'	=>	'13/09/2018',
		'221'	=>	'19/09/2018',
		'5800'	=>	'13/09/2018',
		'683'	=>	'27/09/2018',
		'2630'	=>	'11/09/2018',
		'2135'	=>	'04/09/2018',
		'884'	=>	'19/09/2018',
		'335'	=>	'21/09/2018',
		'89'	=>	'27/09/2018',
		'689'	=>	'29/09/2018',
		'8292'	=>	'15/09/2018',
		'3070'	=>	'27/09/2018',
		'1068'	=>	'11/09/2018',
		'8379'	=>	'28/09/2018',
		'692'	=>	'21/09/2018',
		'192'	=>	'12/09/2018',
		'5111'	=>	'15/09/2018',
		'1050'	=>	'04/09/2018',
		'358'	=>	'21/09/2018',
		'33'	=>	'13/09/2018',
		'1091'	=>	'06/09/2018',
		'4275'	=>	'11/09/2018',
		'362'	=>	'19/09/2018',
		'676'	=>	'25/09/2018',
		'18'	=>	'26/09/2018',
		'8643'	=>	'17/09/2018',
		'5355'	=>	'11/09/2018',
		'2314'	=>	'12/09/2018',
		'517'	=>	'17/09/2018',
		'9'		=>	'27/09/2018',
		'1104'	=>	'25/09/2018',
		'5891'	=>	'29/09/2018',
		'2407'	=>	'25/09/2018',
		'4481'	=>	'18/09/2018',
		'8782'	=>	'29/09/2018',
		'1105'	=>	'04/09/2018',
		'695'	=>	'21/09/2018',
		'7092'	=>	'26/09/2018',
		'3562'	=>	'26/09/2018',
		'8438'	=>	'27/09/2018',
		'6102'	=>	'18/09/2018',
		'225'	=>	'25/09/2018',
		'8321'	=>	'29/09/2018',
		'8356'	=>	'29/09/2018',
		'617'	=>	'13/09/2018',
		'4584'	=>	'21/09/2018',
		'5546'	=>	'20/09/2018',
		'5102'	=>	'21/09/2018',
		'697'	=>	'20/09/2018',
		'7937'	=>	'14/09/2018',
		'1518'	=>	'28/09/2018',
		'227'	=>	'11/09/2018',
		'698'	=>	'27/09/2018',
		'9025'	=>	'20/09/2018',
		'8936'	=>	'20/09/2018',
		'402'	=>	'21/09/2018',
		'667'	=>	'06/09/2018',
		'8596'	=>	'06/09/2018',
		'416'	=>	'05/09/2018',
		'1058'	=>	'12/09/2018',
		'3733'	=>	'05/09/2018',
		'1044'	=>	'26/09/2018',
		'4848'	=>	'04/09/2018',
		'5419'	=>	'11/09/2018',
		'3986'	=>	'20/09/2018',
		'3534'	=>	'05/09/2018',
		'8435'	=>	'04/09/2018',
		'3763'	=>	'28/09/2018',
		'5614'	=>	'14/09/2018',
		'8856'	=>	'25/09/2018',
		'677'	=>	'27/09/2018',
		'805'	=>	'18/09/2018',
		'4559'	=>	'14/09/2018',
		'4574'	=>	'19/09/2018',
		'6137'	=>	'19/09/2018',
		'303'	=>	'08/08/2018',
		'2685'	=>	'17/09/2018',
		'98'	=>	'12/09/2018',
		'6096'	=>	'29/09/2018',
		'1255'	=>	'29/09/2018',
		'8524'	=>	'13/09/2018',
		'419'	=>	'12/09/2018',
		'503'	=>	'15/09/2018',
		'5299'	=>	'29/09/2018',
		'5070'	=>	'13/09/2018',
		'8458'	=>	'17/09/2018',
		'3655'	=>	'14/09/2018',
		'3236'	=>	'27/09/2018',
		'273'	=>	'28/09/2018',
		'699'	=>	'29/09/2018',
		'7851'	=>	'12/09/2018',
		'3262'	=>	'06/09/2018',
		'1568'	=>	'20/09/2018',
		'1034'	=>	'11/09/2018',
		'8137'	=>	'20/09/2018',
		'5165'	=>	'04/09/2018',
		'1714'	=>	'21/09/2018',
		'4302'	=>	'05/09/2018',
		'8757'	=>	'18/09/2018',
		'7855'	=>	'04/09/2018',
		'4963'	=>	'18/09/2018',
		'2146'	=>	'04/09/2018',
		'2045'	=>	'12/09/2018',
		'5528'	=>	'21/09/2018',
		'7829'	=>	'20/09/2018',
		'8264'	=>	'04/09/2018',
		'8772'	=>	'13/09/2018',
		'8639'	=>	'15/09/2018',
		'3924'	=>	'04/09/2018',
		'8751'	=>	'05/09/2018',
		'2289'	=>	'15/09/2018',
		'5885'	=>	'13/09/2018',
		'3006'	=>	'12/09/2018',
		'6328'	=>	'11/09/2018',
		'5915'	=>	'17/09/2018',
		'3017'	=>	'04/09/2018',
		'8815'	=>	'15/09/2018',
		'7505'	=>	'17/09/2018',
		'2501'	=>	'18/09/2018',
		'2115'	=>	'11/09/2018',
		'5217'	=>	'05/09/2018',
		'5594'	=>	'04/09/2018',
		'5087'	=>	'28/09/2018',
		'2062'	=>	'21/09/2018',
		'8735'	=>	'11/09/2018',
		'8355'	=>	'29/09/2018',
		'8348'	=>	'15/09/2018',
		'8394'	=>	'28/09/2018',
		'6184'	=>	'26/09/2018',
		'8444'	=>	'26/09/2018',
		'8547'	=>	'25/09/2018',
		'8733'	=>	'06/09/2018',
		'8911'	=>	'21/09/2018',
		'8953'	=>	'18/09/2018',
		'8734'	=>	'06/09/2018',
		'9059'	=>	'20/09/2018',
		'8716'	=>	'21/09/2018'*/
		'8938'	=>	'27/09/2018',
		'8722'	=>	'21/09/2018',
		'9034'	=>	'26/09/2018',
		'8861'	=>	'25/09/2018',
		'9018'	=>	'20/09/2018',
		'8943'	=>	'11/09/2018',
		'9016'	=>	'27/09/2018',
		'8774'	=>	'14/09/2018',
		'9017'	=>	'21/09/2018',
		'9073'	=>	'15/09/2018',


	];

	public function __construct(Request $request)
	{
	    $this->middleware(['auth', 'clearance']);
	    $this->request = $request;
	}

    public function index($id){
    	$sian = new Sian();
    	$sian->connect('17165', 'porquesou10');
    	foreach($this->clientes as $code => $nextVisit){
    		$url = 'http://54.207.118.27/app?component=record_&page=pages%2Fsale%2FVisitScheduleClientList&service=direct&session=T&sp=' . $code ;
    		$post = $sian->getHiddenSian($url, 'visitForm');
    		$post['input_0'] = $nextVisit;
    		$sian->visit($post);
    		sleep(1);
    	}
    	
    	
    	//return view('sian.sales.visits.index');
    }
}
